"use strict";function IsClass(){var t=navigator.userAgent,e=!1,a=!1,r=!1,n=!1;t.match(/Android/)&&t.match(/Mobile/)||t.match(/iPhone/)||t.match(/Windows Phone/)?e=!0:t.match(/Android/)||t.match(/iPad/)?a=!0:t.match(/MSIE 8/)||t.match(/MSIE 7/)||t.match(/MSIE 6/)?r=!0:n=!0,this.isSp=function(){return e},this.isTab=function(){return a},this.isIe=function(){return r},this.isPc=function(){return n};var i={minw:1e3};i.winw=$(window).width(),i.winh=$(window).height(),i.doch=0,i.scrpos=0,i.share={},this.getParams=function(t){return i},this.getParam=function(t){return i[t]},this.setParam=function(t,e){i[t]=e};var o=function(){i.share.url=$("meta[property='og:url']").attr("content")?$("meta[property='og:url']").attr("content"):location.href,i.share.title=$("meta[name='twitter:text']").attr("content")?$("meta[name='twitter:text']").attr("content"):$("title").text(),i.share.twitter_related=$("meta[name='twitter:site']").attr("content")?$("meta[name='twitter:site']").attr("content").replace("@",""):"5pbgames",i.share.twitter_hash=$("meta[name='twitter:hash']").attr("content")?$("meta[name='twitter:hash']").attr("content"):"",i.share.fb_app_id=$("meta[property='fb:app_id']").attr("content")?$("meta[property='fb:app_id']").attr("content"):"",i.share.text=encodeURIComponent(i.share.title+" "+i.share.url)};this.share=function(t){o(),(t=$(".share:first")).addClass("share_custom"),t.attr("data-text")&&(i.share.title=t.attr("data-text"));var e="";e+='<div class="inner_tw"><a href="https://twitter.com/share?url='+i.share.url+"&text="+encodeURIComponent(i.share.title+" "+i.share.twitter_hash)+"&related="+i.share.twitter_related+'" onclick="window.open(this.href,\'FBwindow\',\'width=650,height=450,menubar=no,toolbar=no,scrollbars=yes\');return false;" target="_blank" class="share_tw">Twitter</a></div>',e+='<div class="inner_fb"><a href="https://www.facebook.com/share.php?u='+i.share.url+'" onclick="window.open(this.href,\'TWwindow\',\'width=650,height=450,menubar=no,toolbar=no,scrollbars=yes\');return false;" target="_blank" class="share_fb">Facebook</a></div>',IS.isSp()?e+='<div class="inner_line"><a href="http://line.me/R/msg/text/?'+encodeURIComponent(i.share.title+" "+i.share.url)+'" target="_blank" class="share_line">LINE</a></div>':e+='<div class="inner_line"><a href="https://lineit.line.me/share/ui?url='+i.share.url+'" onclick="window.open(this.href,\'TWwindow\',\'width=503,height=510,menubar=no,toolbar=no,scrollbars=yes\');return false;" target="_blank" class="share_line">LINE</a></div>',t.html(e)},this.shareOrigin=function(){o();var t=$(".share:first");t.addClass("share_origin"),t.attr("data-text")&&(i.share.title=t.attr("data-text"));var e,a,r,n,s,h,c="";IS.isSp()&&(c+='<div class="inner_line"><a href="line://msg/text/'+i.share.text+'" target="_blank">LINEで送る</a></div>'),c+='<div class="inner_hb"><a href="http://b.hatena.ne.jp/entry/'+i.share.url+'" class="hatena-bookmark-button" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"></a></div>',c+='<div class="inner_fb"><div class="fb-like" data-href="'+i.share.url+'" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div></div>',c+='<div class="inner_tw"><a href="https://twitter.com/share" class="twitter-share-button" data-hashtags="'+i.share.twitter_hash+'" data-url="'+i.share.url+'"></a></div>',t.html(c),e=document,a="script",r="twitter-wjs",s=e.getElementsByTagName(a)[0],h=/^http:/.test(e.location)?"http":"https",e.getElementById(r)||((n=e.createElement(a)).id=r,n.src=h+"://platform.twitter.com/widgets.js",s.parentNode.insertBefore(n,s)),function(t,e,a){var r,n=t.getElementsByTagName(e)[0];t.getElementById(a)||((r=t.createElement(e)).id=a,r.src="//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.3&appId="+i.share.fb_app_id,n.parentNode.insertBefore(r,n))}(document,"script","facebook-jssdk"),function(t){var e=t.createElement("script");e.src="http://b.st-hatena.com/js/bookmark_button.js",e.charset="utf-8",e.async="async",t.body.appendChild(e)}(document)},this.loading=function(t,e){var a=new Array,r=0,n=0;if(IS.is_ie)e();else for(var i=0;i<t.length;i++)a[r]=new Image,a[r].src=t[r],a[r].onload=function(){n++,t.length==n&&e()},r++};var s={},h=null,c=function(t){t=0==$.isNumeric(t)?200:t,clearTimeout(h),h=setTimeout((function(){for(var t in i.winw=$(window).width(),i.winh=$(window).height(),i.doch=$(document).outerHeight(),s)s[t]()}),t)};this.setResizeFunc=function(t,e){s[t]=e},this.exeResizeFunc=function(t){s[t]()},this.removeResizeFunc=function(t){delete s[t]},this.checkResize=function(){c()},window.addEventListener("resize",c),c();var l={},u={},d=null,m=function(t){for(var e in t=0==$.isNumeric(t)?200:t,i.scrpos=$(window).scrollTop(),l)l[e]();clearTimeout(d),d=setTimeout((function(){for(var t in u)u[t]()}),t)};this.setScrollFunc=function(t,e){l[t]=e},this.exeScrollFunc=function(t){l[t]()},this.removeScrollFunc=function(t){delete l[t]},this.setScrollDelayFunc=function(t,e){u[t]=e},this.exeScrollDelayFunc=function(t){u[t]()},this.removeScrollDelayFunc=function(t){delete u[t]},window.addEventListener("scroll",m),m();var f=[16,9];this.setOverRatio=function(t){switch(t){case"wide":default:f=[16,9];break;case"square":f=[1,1];break;case"normal":f=[4,3]}},this.overYoutube=function(t,e){void 0===e&&(e={annotate:1,noauto:1});var a=t,r="";e.noauto&&(r+="&autoplay=1"),e.annotate&&(r+="&iv_load_policy=3"),c(0),this.setOverRatio("wide"),this.exeResizeFunc("over"),$("#over .over_contents").hide().html(""),$("#over").show((function(){$("#over_youtube").show().html('<iframe src="//www.youtube.com/embed/'+a+"?rel=0"+r+'" frameborder="0" allowfullscreen></iframe>')}))},this.overImage=function(t,e){void 0===i&&(i={ratio:null,href:null});var a=t;if(this.setOverRatio(e.ratio),this.exeResizeFunc("over"),this.checkResize(),$("#over .over_contents").hide().html(""),i.href?$("#over_image").show().html('<a href="'+i.href+'" target="_blank"><img src="'+a+'"></a>'):$("#over_image").show().html('<img src="'+a+'">'),$("#over").show(),IS.isSp()){var r=i.scrpos+i.winh/2-$("#over > .inner").height()/2;$("#over > .inner").css({"margin-top":r})}},this.overClose=function(){return $("#over .over_contents").hide().html(""),$("#over").hide(),!1},this.setResizeFunc("over",(function(){var t=2*$("#over_controller").height(),e=i.winw>i.minw?i.winw:i.minw;IS.isSp()?e=320:e-=40;var a=Math.floor(e/f[0]*f[1]);a>i.winh-t&&(a=i.winh-t,e=Math.floor(a/f[1]*f[0])),$("#over").css({height:i.doch+"px"}),$("#over .over_contents").css({width:e+"px",height:a+"px"}),IS.isSp()||$("#over_image").css({width:"960px",height:"544px"})})),this.setScrollDelayFunc("over",(function(){IS.isSp()||$("#over > .inner").stop().animate({"margin-top":i.scrpos+"px"},{duration:800,easing:"easeOutExpo"})}));$(document).on({click:function(){var t={};return t.ratio=$(this).attr("data-image-ratio")?$(this).attr("data-image-ratio"):null,i.href=$(this).attr("data-image-href")?$(this).attr("data-image-href"):null,IS.overImage($(this).attr("href"),t),!1}},"a[data-image]"),$(document).on({click:function(){if(!IS.isSp()){var t={};return t.annotate=$(this).attr("data-youtube-annotate")?0:1,t.noauto=$(this).attr("data-youtube-noauto")?0:1,IS.overYoutube($(this).attr("data-youtube-id"),t),!1}}},"a[data-youtube-id]"),$(document).on({click:function(){IS.overClose()}},"#over_close,#over"),$(document).on({click:function(){if(!$(this).attr("data-anchor")){var t=0;$($(this).attr("href")).length&&(t=$($(this).attr("href")).offset().top),$("html,body").stop().animate({scrollTop:t},{duration:600,easing:"easeOutExpo"})}return!1}},"a[href^=#]")}var IS=new IsClass;window.console||(window.console={log:function(t){}});